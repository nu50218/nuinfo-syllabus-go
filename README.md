# nuinfo-syllabus-go

[![Actions Status](https://github.com/nu50218/nuinfo-syllabus-go/workflows/build/badge.svg)](https://github.com/nu50218/nuinfo-syllabus-go/actions)
[![Actions Status](https://github.com/nu50218/nuinfo-syllabus-go/workflows/test/badge.svg)](https://github.com/nu50218/nuinfo-syllabus-go/actions)

名大の情報学部・研究科のシラバスをスクレイピングしたかったので作りました。

`_example`を見るとだいたい使い方がわかると思います。

## Install

`go get "github.com/nu50218/nuinfo-syllabus-go/syllabus"`

## Usage

(Generated by [godocdown](https://github.com/robertkrimen/godocdown))

#### type Client

```go
type Client struct {
	Endpoint string
}
```

Client シラバスからデータを取得するクライアント

#### func  NewClient

```go
func NewClient(endpoint string, interval time.Duration) *Client
```
NewClient クライアントを作って返す

#### func (*Client) GetAllConciseSubjects

```go
func (client *Client) GetAllConciseSubjects() ([]*ConciseSubject, error)
```
GetAllConciseSubjects すべての表を取得して科目の列にして返す

#### func (*Client) GetFirstTable

```go
func (client *Client) GetFirstTable() (*Table, error)
```
GetFirstTable 開いたときに表示されるはじめの表を取得する

#### func (*Client) GetSubject

```go
func (client *Client) GetSubject(timetableCode string) (*Subject, error)
```
GetSubject timetableCode（URLクエリパラメータのj、時間割コード）を指定してそのページを取得・パースして返す

#### func (*Client) GetTable

```go
func (client *Client) GetTable(startIndex string) (*Table, error)
```
GetTable startIndex（URLクエリパラメータのs）を指定して表を取得する

#### type ConciseSubject

```go
type ConciseSubject struct {
	// TimetableCode 時間割コード
	TimetableCode string
	// CourseTitle 科目名
	CourseTitle string
	// Semester 開講期
	Semester string
	// DayAndPeriod 開講時間帯
	DayAndPeriod string
	// Grade 対象学年
	Grade string
	// Credits 単位数
	Credits string
	// Update 更新日
	Update string
}
```

ConciseSubject 科目一覧の表の科目（情報がSubjectより少ない）

#### type Subject

```go
type Subject struct {
	// CourseTitle 科目名
	CourseTitle string
	// Update 更新日
	Update string
	// TimetableCode 時間割コード
	TimetableCode string
	// URL 科目詳細ページへのURL
	URL string
	// JapaneseValues 科目詳細ページの日本語の小見出しと内容のmap
	JapaneseValues map[string]string
	// EnglishValues 科目詳細ページの英語の小見出しと内容のmap
	EnglishValues map[string]string
}
```

Subject 科目の詳細のページに相当

#### type Table

```go
type Table struct {
	Subjects []*ConciseSubject
	// PrevStartIndex [前のn件]のボタンのstartIndex
	PrevStartIndex string
	// NextStartIndex [次のn件]のボタンのstartIndex
	NextStartIndex string
}
```

Table 科目一覧の表のページに相当
